# Vanilla Todo

## 실행 방법
1. `git clone https://github.com/lybell-art/todo-vanillajs.git`으로 이 레포를 클론하세요.
2. `npm install`로 필요한 종속성을 설치하세요.
3. `npm run dev`로 프로그램을 로컬로 실행하시면 됩니다.

## 주요 개발 feature
### Custom Element를 이용한 컴포넌트 설계
바닐라 자바스크립트의 명령형 프로그래밍을 극복하고 컴포넌트 기반 모던 프론트엔드 개발 설계를 통해 재사용성과 유지보수성을 향상시키기 위해, Custom Element를 이용하여 컴포넌트의 기능을 응집시켰습니다.
바닐라 자바스크립트의 한계로 완전한 선언형 프로그래밍은 구축하기 어려우나, 최대한 유사한 기능을 가진 코드를 응집시켜 설계하였습니다.

Custom Element의 connectedCallback으로 초기 데이터 렌더링과 이벤트 바인딩을 수행하였으며, attribute의 변경과 attributeChangedCallback으로 props의 변경을 통한 반응형 컴포넌트를 구현했습니다. 객체 props의 경우 getter와 setter를 이용했습니다. 또한, Custom Element의 클래스적 특징을 이용해, Custom Element 밖에서 메소드를 노출하여 컴포넌트를 조작할 수 있습니다.

반드시 상위 컴포넌트에서 하위 컴포넌트로 상태 변경 함수를 넘겨주어 컴포넌트 간 상호작용을 하는 React와는 달리, Custom Event와 이벤트 전파를 통해 하위 컴포넌트에서 상위 컴포넌트로 이벤트를 전파할 수 있습니다. 전파받은 이벤트는 상위 컴포넌트에서 자체적으로 구독하여, 하위 컴포넌트에서 발생한 이벤트를 처리한 뒤 데이터를 변경시키고, 렌더링을 수행합니다.

### 리스트 변경 알고리즘을 통한 효율적 렌더링
TodoList 컴포넌트의 경우, render 함수와 diffing.js 코드에 리스트 diffing 알고리즘이 구현되어 있습니다. 이전에 렌더링된 리스트의 목록과 현재 렌더링할 리스트의 목록을 비교하여, 각 리스트의 원소의 고유 id값에 따라 추가, 제거, 변경 명령을 반환하고, 이를 기반으로 실제 DOM을 변경시킵니다.
무조건 dom의 내용을 비우고 처음부터 리렌더링하는 것과는 달리, 필요한 엘리먼트만 조작할 수 있어서 렌더링 성능이 증가하고, 키보드로 리스트의 input 엘리먼트를 포커스하고 변경할 때 포커싱이 해제되지 않는 이점이 있습니다.